<!DOCTYPE HTML>
<html>

<head>
	<link rel="bookmark"  type="image/x-icon"  href="/img/logo_miccall.png"/>
	 <link rel="shortcut icon" href="/img/logo_miccall.png">
	
			
    <title>
    B-Tree
    </title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    <link rel="stylesheet" href="/css/mic_main.css" />
    <link rel="stylesheet" href="/css/dropdownMenu.css" />
    
    	<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
	
    <noscript>
        <link rel="stylesheet" href="/css/noscript.css" />
    </noscript>

			    <script src="/js/jquery.min.js"></script>
    <script src="/js/jquery.scrollex.min.js"></script>
    <script src="/js/jquery.scrolly.min.js"></script>
    <script src="/js/skel.min.js"></script>
    <script src="/js/util.js"></script>
    <script src="/js/main.js"></script>
	
<link rel="stylesheet" href="/css/prism.css" type="text/css">
<link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"></head>
    
		
<!-- Layouts -->



<!--  代码渲染  -->
<link rel="stylesheet" href="/css/prism_coy.css" />
<link rel="stylesheet" href="/css/typo.css" />
<!-- 文章页 -->
<body class="is-loading">
    <!-- Wrapper 外包 s-->
    <div id="wrapper" class="fade-in">
        <!-- Intro 头部显示 s -->
        <!-- Intro 头部显示 e -->
        <!-- Header 头部logo start -->
        <header id="header">
    <a href="/" class="logo">罪歌moecopilot</a>
</header>
        <!-- Nav 导航条 start -->
        <nav id="nav" class="special" >
            <ul class="menu links" >
			<!-- Homepage  主页  --> 
			<li >
	            <a href="/" rel="nofollow">主页</a>
	        </li>
			<!-- categories_name  分类   --> 
	        
	        <li class="active">
	            <a href="#s1">分类</a>
	                    <ul class="submenu">
	                        <li>
	                        <a class="category-link" href="/categories/code/">code</a>
	                    </ul>
	        </li>
	        
	        <!-- archives  归档   --> 
	        
	        <li class="active">
	            <a href="#s1">归档</a>
	                    <ul class="submenu">
	                        <li>
	                        <a class="archive-link" href="/archives/2018/01/">January 2018</a>
	                    </ul>
	        </li>
	        
	        
		        <!-- Pages 自定义   -->
		        
		        <li>
		            <a href="/tag/" title="标签">
		                标签
		            </a>
		        </li>
		        
		        <li>
		            <a href="/gallery/" title="图库">
		                图库
		            </a>
		        </li>
		        


            </ul>
            <!-- icons 图标   -->
			<ul class="icons">
		            
		                <li><a href="https://github.com/moecopilot" class="icon fa-github"><span class="label">GitHub</span></a></li>
		            
		            
		            
		            
			</ul>
</nav>

        <div id="main" >
            <div class ="post_page_title_img" style="height: 25rem;background-image: url(/gallery/copy.png);background-position: center; background-repeat:no-repeat; background-size:cover;-moz-background-size:cover;overflow:hidden;" >
                <a href="#" style="padding: 4rem 4rem 2rem 4rem ;"><h2 >复制插入版权信息功能的实现</h2></a>
            </div>
            <!-- Post -->
            <div class="typo" style="padding: 3rem;">
                <blockquote>
<p>著作权归罪歌moecopilot本人所有。商业转载请联系作者 QQ 1993713026 获得授权，非商业转载请注明出处。<br>Moecopilot is the original author. Please give credit to the original author when you use it elsewhere.  </p>
</blockquote>
<h1 id="在知乎或者简书复制的文本为什么会自带一些版权声明，这个功能是如何实现的"><a href="#在知乎或者简书复制的文本为什么会自带一些版权声明，这个功能是如何实现的" class="headerlink" title="在知乎或者简书复制的文本为什么会自带一些版权声明，这个功能是如何实现的?"></a>在知乎或者简书复制的文本为什么会自带一些版权声明，这个功能是如何实现的?</h1><h1 id="我很好奇"><a href="#我很好奇" class="headerlink" title="我很好奇"></a>我很好奇</h1><p><pre><br>著作权归作者所有。<br>商业转载请联系作者获得授权，非商业转载请注明出处。<br>作者：<br>链接：<br>来源：知乎<br></pre><br>和  </p>
<p><pre><br>作者：<br>链接：<br>來源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。<br></pre><br>说实话我觉得知乎和简书他俩的名字还挺押韵……<br>查了查，大致明白了这个玩意的原理</p>
<blockquote>
<p>原文这里<a href="https://segmentfault.com/q/1010000003986612" target="_blank" rel="noopener">https://segmentfault.com/q/1010000003986612</a>  </p>
<p><pre><br>大体思路：<br>答案区域监听copy事件，并阻止这个事件的默认行为。<br>获取选中的内容（<font color="red">window.getSelection()</font>）加上版权信息，<br>然后设置到剪切板（<font color="red">clipboardData.setData()</font>）。</pre><br>下面的代码实现了一个简单的DEMO  </p>
<pre class="line-numbers language-js"><code class="language-js"><span class="token operator">&lt;</span><span class="token operator">!</span>DOCTYPE html<span class="token operator">></span>
<span class="token operator">&lt;</span>html lang<span class="token operator">=</span><span class="token string">"en"</span><span class="token operator">></span>
<span class="token operator">&lt;</span>head<span class="token operator">></span>
    <span class="token operator">&lt;</span>meta charset<span class="token operator">=</span><span class="token string">"UTF-8"</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>title<span class="token operator">></span>test<span class="token operator">&lt;</span><span class="token operator">/</span>title<span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>head<span class="token operator">></span>
<span class="token operator">&lt;</span>body<span class="token operator">></span>
    <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">"answer"</span><span class="token operator">></span>测试数据<span class="token operator">&lt;</span>b<span class="token operator">></span>test<span class="token operator">&lt;</span><span class="token operator">/</span>b<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
    <span class="token operator">&lt;</span>script<span class="token operator">></span>
        <span class="token keyword">function</span> <span class="token function">setClipboardText</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span><span class="token punctuation">{</span> 
            event<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">var</span> node <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment" spellcheck="true">//对documentfragment不熟，不知道怎么获取里面的内容，用了一个比较笨的方式</span>
            node<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span><span class="token function">getSelection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getRangeAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">cloneContents</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">var</span> htmlData <span class="token operator">=</span> <span class="token string">'&lt;div>著作权归作者所有。&lt;br />'</span> 
                            <span class="token operator">+</span> <span class="token string">'商业转载请联系作者获得授权，非商业转载请注明出处。&lt;br />'</span>
                            <span class="token operator">+</span> <span class="token string">'作者：tiantian&lt;br />链接：http://segmentfault.com/u/tiantian_&lt;br />'</span>
                            <span class="token operator">+</span> <span class="token string">'来源：segmentfault&lt;br />&lt;br />'</span> 
                            <span class="token operator">+</span> node<span class="token punctuation">.</span>innerHTML 
                            <span class="token operator">+</span> <span class="token string">'&lt;/div>'</span><span class="token punctuation">;</span>
            <span class="token keyword">var</span> textData <span class="token operator">=</span> <span class="token string">'著作权归作者所有。\n'</span> 
                            <span class="token operator">+</span> <span class="token string">'商业转载请联系作者获得授权，非商业转载请注明出处。\n'</span>
                            <span class="token operator">+</span> <span class="token string">'作者：tiantian\n链接：http://segmentfault.com/u/tiantian_\n'</span>
                            <span class="token operator">+</span> <span class="token string">'来源：segmentfault\n\n'</span> 
                            <span class="token operator">+</span> window<span class="token punctuation">.</span><span class="token function">getSelection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getRangeAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>clipboardData<span class="token punctuation">)</span><span class="token punctuation">{</span>  
                event<span class="token punctuation">.</span>clipboardData<span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token string">"text/html"</span><span class="token punctuation">,</span> htmlData<span class="token punctuation">)</span><span class="token punctuation">;</span> 
                event<span class="token punctuation">.</span>clipboardData<span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token string">"text/plain"</span><span class="token punctuation">,</span>textData<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>clipboardData<span class="token punctuation">)</span><span class="token punctuation">{</span>  
                <span class="token keyword">return</span> window<span class="token punctuation">.</span>clipboardData<span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token string">"text"</span><span class="token punctuation">,</span> textData<span class="token punctuation">)</span><span class="token punctuation">;</span>  
            <span class="token punctuation">}</span>  
        <span class="token punctuation">}</span><span class="token punctuation">;</span>  
        <span class="token keyword">var</span> answer <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"answer"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        answer<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'copy'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token function">setClipboardText</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>html<span class="token operator">></span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>转自<a href="https://segmentfault.com/u/tiantian_" target="_blank" rel="noopener">tiantian</a>  </p>
</blockquote>
<p>我设了一个测试网站，嵌入（iframe）在这里了qwq  </p>
<iframe src="http://b-tree.top/testCopy" style="width:100%;height:100px;"></iframe><br><textarea style="width:100%;height:200px;" placeholder="粘贴在这里试一试喵叽"></textarea><br><br>超好玩哈哈哈哈或或或或<br><br>&gt;而在这里<a href="https://www.zhihu.com/question/38140568" target="_blank" rel="noopener">https://www.zhihu.com/question/38140568</a><br><br>&gt; <a href="http://static.zhihu.com/static/revved/-/js/closure/common.d3bfcd50.js" target="_blank" rel="noopener">http://static.zhihu.com/static/revved/-/js/closure/common.d3bfcd50.js</a><br>&gt;<br>&gt; <code>js
&gt; 
&gt; var Qy = function(a, b, c) {
&gt;   function d(a, b) {
&gt;     return [&quot;著作权归作者所有。&quot;,
&gt;       &quot;商业转载请联系作者获得授权，非商业转载请注明出处。&quot;,
&gt;       &quot;作者：&quot; + b, &quot;链接：&quot; + a, &quot;来源：知乎&quot;,
&gt;       &quot;&quot;, &quot;&quot;
&gt;     ]
&gt;   }
&gt; 
&gt;   function f(a, b, c) {
&gt;     return &quot; div\x3e&quot; + d(b, c).join(
&gt;         &quot; br /\x3e&quot;) + a +
&gt;       &quot; /div\x3e&quot;
&gt;   }
&gt; 
&gt;   function g(a) {
&gt;     var g = z.Kq(),
&gt;       m = g &amp;&amp; (0,
&gt;         z.x)(g.Fd());
&gt;     if (m &amp;&amp; !(42 &gt; m.length)) {
&gt;       if (&quot;object&quot; === typeof a.originalEvent
&gt;         .clipboardData &amp;&amp; (a.originalEvent
&gt;           .clipboardData.setData(
&gt;             &quot;text/html&quot;, f(g.Mf(), b,
&gt;               c)),
&gt;           a.originalEvent.clipboardData
&gt;           .setData(&quot;text/plain&quot;, d(b,
&gt;             c).join(&quot;\n&quot;) + m),
&gt;           0 &lt; a.originalEvent.clipboardData
&gt;           .getData(&quot;text/plain&quot;).length
&gt;         )) {
&gt;         a.preventDefault();
&gt;         return
&gt;       }
&gt;       if (window.getSelection) {
&gt;         a = g.Mf();
&gt;         var n = (0,
&gt;           window.$)(f(a, b, c)).css({
&gt;           position: &quot;fixed&quot;,
&gt;           left: &quot;-9999px&quot;
&gt;         }).appendTo(&quot;body&quot;);
&gt;         window.getSelection().selectAllChildren(
&gt;           n.get(0));
&gt;         (0,
&gt;           window.setTimeout)(function() {
&gt;           g.select();
&gt;           n.remove()
&gt;         }, 200)
&gt;       }
&gt;     }
&gt;   }
&gt;   a &amp;&amp; b &amp;&amp; c &amp;&amp; (z.Da(b, &quot;http&quot;) ||
&gt;     (b = window.location.protocol +
&gt;       &quot;//&quot; + window.location.host +
&gt;       b),
&gt;     a.on(&quot;copy&quot;, g))
&gt; };
&gt; 
&gt;</code><br><br>&gt;转自<a href="https://www.zhihu.com/people/Rufus/activities" target="_blank" rel="noopener">鲁小夫</a><br><br><br><br>如果答案设置了不能复制，则阻止copy事件，并显示提示信息，如果复制的文本长度小于42的话，不会加上版权信息。<br>&gt; 关于copy事件:<br>&gt; <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLElement/oncopy" target="_blank" rel="noopener">https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLElement/oncopy</a><br>&gt; <a href="http://codebits.glennjones.net/editing/setclipboarddata.htm" target="_blank" rel="noopener">http://codebits.glennjones.net/editing/setclipboarddata.htm</a><br>&gt;<br>&gt; &gt; ## 概述<br>&gt; &gt; oncopy属性用来获取或设置当前元素的copy事件的事件处理函数.<br>&gt; &gt; ## 语法<br>&gt; &gt; <code>&gt; &gt; element.oncopy = functionRef;  
&gt; &gt;   
&gt; &gt;</code><br>&gt; &gt; functionRef 是一个函数名或者函数表达式.<br>&gt; &gt; ## 例子<br>&gt; &gt; <code>&gt; &gt; &lt;html&gt;
&gt; &gt; &lt;head&gt;
&gt; &gt; &lt;title&gt;oncopy示例演示&lt;/title&gt;
&gt; &gt; 
&gt; &gt; &lt;script&gt;
&gt; &gt;   function log(txt)
&gt; &gt;   {
&gt; &gt;     document.getElementById(&quot;log&quot;).appendChild(document.createTextNode(txt + &quot;\n&quot;));
&gt; &gt;   }
&gt; &gt; &lt;/script&gt;
&gt; &gt; &lt;/head&gt;
&gt; &gt; 
&gt; &gt; &lt;body&gt;
&gt; &gt; &lt;div oncopy=&quot;log(&#39;复制被阻止!&#39;); return false;&quot;&gt;试着复制这句话!&lt;/div&gt;
&gt; &gt; 
&gt; &gt; &lt;h3&gt;Log&lt;/h3&gt;
&gt; &gt; &lt;textarea rows=&quot;15&quot; cols=&quot;80&quot; id=&quot;log&quot; readonly=&quot;true&quot;&gt;&lt;/textarea&gt;
&gt; &gt; &lt;/body&gt;
&gt; &gt; &lt;/html&gt;
&gt; &gt;</code><br>&gt; &gt; ## 备注<br>&gt; &gt; 上例演示了如何禁止复制浏览器中的一段话.<br>&gt; &gt; ## 规范<br>&gt; &gt; 当用户尝试复制选中元素或文本时会触发copy事件.<br>&gt; &gt;<br>&gt; &gt;<br>&gt;<br>&gt; glennjones给出了更加复杂的js，包括OnCopy日志的提取<br>&gt;<br>&gt; &gt; - Some of the current browsers support a clipboardData property as part of a copy event. This should allow you to set the clipboard data or append custom data as a user copies an object. The support is patchy and mostly incomplete. The IE interface is older than the rest, but has had support for a while where as Chrome and Safari support has only recently been added. With IE you can only set two fixed data types Text or URL.<br>&gt; &gt;<br>&gt; &gt; - When parts of this paragraph of text are copied an event should fire that alters the copied test. When pasted into the box below you should see a custom message. It will currently only work with IE Chrome and Safari. Try it out by copying and pasting this paragraph into the input box below.<br>&gt; &gt; ## The code<br>&gt; &gt;<br>&gt; &gt; <code>js
&gt; &gt; window.addEventListener(&#39;load&#39;, function (e) {
&gt; &gt; 
&gt; &gt;     var node = document.getElementById(&#39;edit-box&#39;);
&gt; &gt;     var copyNode = document.getElementById(&#39;custom-copy&#39;);
&gt; &gt; 
&gt; &gt;     copyNode.oncopy =function (e) {
&gt; &gt;         log(&#39;copy&#39;);
&gt; &gt;         if (e.clipboardData) {
&gt; &gt;             e.preventDefault();
&gt; &gt;             e.clipboardData.setData(
&gt; &gt;                 &#39;text/xcustom&#39;, &#39;Added this custom data at copy&#39;);
&gt; &gt; 
&gt; &gt;             var setStatus = e.clipboardData.setData(
&gt; &gt;                 &#39;text/plain&#39;, &#39;This is not the text you copied, it &#39; +
&gt; &gt;                 &#39;was changed by the copy event handler&#39;);
&gt; &gt;             log(&#39;setData: &#39; + setStatus);
&gt; &gt;         }
&gt; &gt;         if (window.clipboardData) {
&gt; &gt;             e.returnValue = false;
&gt; &gt;             var setStatus = window.clipboardData.setData(
&gt; &gt;                 &#39;Text&#39;, &#39;This is not the text you copied, it &#39; +
&gt; &gt;                 &#39;was changed by the copy event handler&#39;);
&gt; &gt;             log(&#39;setData: &#39; + setStatus);
&gt; &gt;         }
&gt; &gt;     };
&gt; &gt; 
&gt; &gt;     node.onpaste = function (e) {
&gt; &gt;         log(&#39;paste&#39;);
&gt; &gt;         if (e.clipboardData) {
&gt; &gt;             log(&#39;event.clipboardData&#39;);
&gt; &gt;             if (e.clipboardData.types) {
&gt; &gt;                 log(&#39;event.clipboardData.types&#39;);
&gt; &gt; 
&gt; &gt;                 // Look for a types property that is undefined
&gt; &gt;                 if (!isArray(e.clipboardData.types)) {
&gt; &gt;                     log(&#39;event.clipboardData.types is undefined&#39;);
&gt; &gt;                 }
&gt; &gt; 
&gt; &gt;                 // Loop the data store by type and display it
&gt; &gt;                 var i = 0;
&gt; &gt;                 while (i &lt; e.clipboardData.types.length) {
&gt; &gt;                     var key = e.clipboardData.types[i];
&gt; &gt;                     var val = e.clipboardData.getData(key);
&gt; &gt;                     log((i + 1) + &#39;: &#39; + key + &#39; - &#39; + val);
&gt; &gt;                     i++;
&gt; &gt;                 }
&gt; &gt; 
&gt; &gt;             } else {
&gt; &gt;                 // Look for access to data if types array is missing
&gt; &gt;                 var text = e.clipboardData.getData(&#39;text/plain&#39;);
&gt; &gt;                 var url = e.clipboardData.getData(&#39;text/uri-list&#39;);
&gt; &gt;                 var html = e.clipboardData.getData(&#39;text/html&#39;);
&gt; &gt;                 var custom = e.clipboardData.getData(&#39;text/xcustom&#39;);
&gt; &gt;                 log(&#39;text/plain - &#39; + text);
&gt; &gt;                 if (url !== undefined) {
&gt; &gt;                     log(&#39;text/uri-list - &#39; + url);
&gt; &gt;                 }
&gt; &gt;                 if (html !== undefined) {
&gt; &gt;                     log(&#39;text/html - &#39; + html);
&gt; &gt;                 }
&gt; &gt;                 if (custom !== undefined) {
&gt; &gt;                     log(&#39;text/xcustom - &#39; + custom);
&gt; &gt;                 }
&gt; &gt;             }
&gt; &gt;         }
&gt; &gt; 
&gt; &gt;         // IE event is attached to the window object
&gt; &gt;         if (window.clipboardData) {
&gt; &gt;             log(&#39;window.clipboardData&#39;);
&gt; &gt;             // The schema is fixed
&gt; &gt;             var text = window.clipboardData.getData(&#39;Text&#39;);
&gt; &gt;             var url = window.clipboardData.getData(&#39;URL&#39;);
&gt; &gt;             log(&#39;Text - &#39; + text);
&gt; &gt;             if (url !== null) {
&gt; &gt;                 log(&#39;URL - &#39; + url);
&gt; &gt;             }
&gt; &gt;         }
&gt; &gt;         // Needs a few msec to excute paste
&gt; &gt;         window.setTimeout(logContents, 50, true);
&gt; &gt;     };
&gt; &gt; 
&gt; &gt;     // Button events
&gt; &gt;     var btn = document.getElementById(&#39;clear-logs&#39;);
&gt; &gt;     btn.onclick = function (e) {
&gt; &gt;         clearLog();
&gt; &gt;     };
&gt; &gt; });
&gt; &gt; 
&gt; &gt; function logContents() {
&gt; &gt;     var node = document.getElementById(&#39;edit-box&#39;);
&gt; &gt;     log(&#39;Current contents - &#39; + node.innerHTML);
&gt; &gt; }
&gt; &gt; 
&gt; &gt; function log(str) {
&gt; &gt;     var node = document.getElementById(&#39;log-box&#39;);
&gt; &gt;     var li = document.createElement(&#39;li&#39;)
&gt; &gt;     li.appendChild(document.createTextNode(str));
&gt; &gt;     node.appendChild(li);
&gt; &gt; }
&gt; &gt; 
&gt; &gt; function clearLog() {
&gt; &gt;     var node = document.getElementById(&#39;log-box&#39;);
&gt; &gt;     while (node.firstChild) {
&gt; &gt;         node.removeChild(node.firstChild);
&gt; &gt;     }
&gt; &gt; }
&gt; &gt; 
&gt; &gt; function isArray(obj) {
&gt; &gt;     return obj &amp;&amp; !(obj.propertyIsEnumerable(&#39;length&#39;)) &amp;&amp; 
&gt; &gt;         typeof obj === &#39;object&#39; &amp;&amp; typeof obj.length === &#39;number&#39;;
&gt; &gt; };               
&gt; &gt;</code><br>&gt; &gt;<br><br><br>我照着写了一个这样的页面：<br><br><iframe src="http://b-tree.top/testCopy" style="width:100%;height:100px;"></iframe>  


            </div>

            <!-- Post Comments -->
            
    <!-- 使用 DISQUS_CLICK -->
<div id="disqus-comment">
    <div id="disqus_thread"></div>

<!-- add animation -->
<style>
	.disqus_click_btn {
            line-height: 30px;
            margin: 0;
            min-width: 50px;
            padding: 0 14px;
            display: inline-block;
            font-family: "Roboto", "Helvetica", "Arial", sans-serif;
            font-size: 14px;
            font-weight: 400;
            text-transform: uppercase;
            letter-spacing: 0;
            overflow: hidden;
            will-change: box-shadow;
            transition: box-shadow .2s cubic-bezier(.4, 0, 1, 1), background-color .2s cubic-bezier(.4, 0, .2, 1), color .2s cubic-bezier(.4, 0, .2, 1);
            outline: 0;
            cursor: pointer;
            text-decoration: none;
            text-align: center;
            vertical-align: middle;
            border: 0;
            background: rgba(158, 158, 158, .2);
            box-shadow: 0 2px 2px 0 rgba(0, 0, 0, .14), 0 3px 1px -2px rgba(0, 0, 0, .2), 0 1px 5px 0 rgba(0, 0, 0, .12);
            color: #fff;
            background-color: #7EC0EE;
            text-shadow: 0
        }
</style>
	
<div class="btn_click_load" id="disqus_bt"> 
    <button class="disqus_click_btn">点击查看评论</button>
</div>

<!--
<script type="text/javascript">
$('.btn_click_load').click(function() {
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'http-miccall-tech'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();

    document.getElementById('disqus_bt').style.display = "none";
});
</script>
-->
<script type="text/javascript">
    var disqus_config = function () {
        this.page.url = 'http://yoursite.com/2018/01/12/copyevent/';  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = 'http://yoursite.com/2018/01/12/copyevent/'; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
</script>

<script type="text/javascript">
    $('.btn_click_load').click(function() {  //click to load comments
        (function() { // DON'T EDIT BELOW THIS LINE
            var d = document;
            var s = d.createElement('script');
            s.src = '//http-miccall-tech.disqus.com/embed.js';
            s.setAttribute('data-timestamp', + new Date());
            (d.head || d.body).appendChild(s);
        })();
        $('.btn_click_load').css('display','none');
    });
</script>
</div>
<style>
    #disqus-comment{
        background-color: #eee;
        padding: 2pc;
    }
</style>


        </div>
        <!-- Copyright 版权 start -->
                <div id="copyright">
            <ul>
                <li>&copy;Powered By <a href="https://hexo.io/zh-cn/" style="border-bottom: none;">hexo</a></li>
                <li>Design: <a href="http://miccall.tech " style="border-bottom: none;">miccall</a></li>
            </ul>
            
            	<span id="busuanzi_container_site_pv">2018总访问量<span id="busuanzi_value_site_pv"></span>次</span>
			
        </div>
    </div>
</body>



 	
</html>
